(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t),a.d(t,"Navigation",(function(){return ae})),a.d(t,"About",(function(){return m})),a.d(t,"Cart",(function(){return A})),a.d(t,"Catalog",(function(){return U})),a.d(t,"Home",(function(){return I})),a.d(t,"Orders",(function(){return J})),a.d(t,"Settings",(function(){return W}));var s=a(1),n=a.n(s),c=a(21),r=a.n(c),i=(a(43),a(4)),l=a(2),o=a.n(l),d=a(3),j=a(23),u=a(5),b=(a(45),a(15),a.p+"static/media/minying.9d174363.jpg"),h=a(0);var m=function(){return Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"offset-md-1 col-md-8",children:[Object(h.jsx)("h1",{className:"page-header",children:"About Us"}),Object(h.jsx)("p",{className:"page-caption",id:"AboutUs-page-caption",children:"Underground Nook is an NYC-based company dedicated to selling plants."})]})}),Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row cards",children:[Object(h.jsx)("div",{className:"row",children:"\xa0"}),Object(h.jsx)("div",{className:"offset-md-1 col-md-4 d-flex justify-content-center",children:Object(h.jsx)("img",{src:b,className:"minying",alt:"Minying Cao"})}),Object(h.jsx)("div",{className:"col-md-5",children:"Minying Cao is the proud owner of Underground Nook. She started this company as a pastime during the pandemic and continues to operate out of her home in New York City, where she takes care of plants and sells them online."})]})})]})},p=a(7),O=a(8),x=a(10),g=a(9);a(47);var v=function(e){return Object(h.jsx)("div",{className:"OrderContent",children:Object(h.jsx)("div",{className:"order card","data-bs-toggle":"modal","data-bs-target":"#orderModal",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("img",{className:"order-img card-img-top",src:e.plant.img_url,alt:"PPP"}),Object(h.jsx)("h2",{className:"order-card-title card-title col-md-8 ",children:e.plant.species_name}),Object(h.jsx)("div",{className:"order-price-col card-text col-md-3 ",children:Object(h.jsx)("div",{className:"row",children:"\xa0"})}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-10",children:Object(h.jsxs)("p",{className:"order-price col cart-item-price",children:["$",e.plant.price]})}),Object(h.jsx)("div",{className:"col-md-1",onClick:e.handleRemove,children:Object(h.jsx)("i",{className:"fa fa-trash-o fa-lg","aria-hidden":"true"})})]})]})})})};var f=function(e){return Object(h.jsx)("div",{onClick:e.onClick,children:Object(h.jsxs)("div",{className:"address radio",children:[Object(h.jsx)("input",{id:"address",name:"address radio",type:"radio"}),Object(h.jsxs)("label",{htmlFor:"address",className:"radio-label",children:[e.address.address," ",e.address.aptno&&"Apt #"+e.address.aptno," ",Object(h.jsx)("br",{})," ",e.address.city,", ",e.address.state," ",e.address.zip]})]})})},N=(a(17),a(22)),y=a.n(N);a(36);var S=function(e){var t="",a="",s="",n="",c="";function r(e,t,a){return i.apply(this,arguments)}function i(){return(i=Object(d.a)(o.a.mark((function e(r,i,l){var d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),console.log(c),(d=new FormData).append("file",c),d.append("upload_preset","uur2huja"),j=parseFloat(n),y.a.post("https://api.cloudinary.com/v1_1/undergroundnook/image/upload",d).then((function(e){console.log(e.data.url),e.data.url,"purge"==i?(fetch("/api/add-purge-plant",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:l,sname:t,price:j,img:e.data.url})}),window.location.reload(!1)):fetch("/api/add-plant",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({sname:t,cname:a,desc:s,price:j,img:e.data.url})})}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"modal fade",id:e.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"AddPlantModalLabel",children:e.title}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("form",{onSubmit:r,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"form-label",children:"Scientific Name"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){t=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:"Enter a Name",id:"name"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"form-label",children:"Common Name"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){a=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:"Enter a Name",id:"name"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"descriptionOfPlant",className:"form-label",children:"Description"}),Object(h.jsx)("br",{}),Object(h.jsx)("textarea",{onChange:function(e){s=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:"Enter a Description",id:"descriptionOfPlant"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),n=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:"Enter a Price",id:"price"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"fileUpload",className:"form-label",children:"Upload Screenshot"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"file",onChange:function(e){c=e.target.files[0],console.log(e.target.files[0])},className:"input-box-modal form-control",id:"fileUpload",name:"file",accept:"image/*"})]}),Object(h.jsx)("div",{id:"filename",className:"mb-3"})]}),Object(h.jsx)("div",{className:"flex-box-submit-button",children:Object(h.jsx)("button",{onClick:function(t){return r(t,e.type,e.userid)},className:"cart-button",id:"AddPlantModalButton",type:"submit","data-bs-dismiss":"modal",children:"Add Plant"})})]})})]})})})},C=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e))._isMounted=!1,s.state={value:s.props.state},s}return Object(O.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),Object(h.jsx)("br",{}),Object(h.jsxs)("select",{className:"input-box-modal form-select",id:"state",name:"state",defaultValue:this.props.defaultState,onChange:this.props.handleChange,children:[Object(h.jsx)("option",{value:"Select State",disabled:!0,children:"Select State"}),Object(h.jsx)("option",{value:"AL",children:"AL"}),Object(h.jsx)("option",{value:"AK",children:"AK"}),Object(h.jsx)("option",{value:"AR",children:"AR"}),Object(h.jsx)("option",{value:"AZ",children:"AZ"}),Object(h.jsx)("option",{value:"CA",children:"CA"}),Object(h.jsx)("option",{value:"CO",children:"CO"}),Object(h.jsx)("option",{value:"CT",children:"CT"}),Object(h.jsx)("option",{value:"DC",children:"DC"}),Object(h.jsx)("option",{value:"DE",children:"DE"}),Object(h.jsx)("option",{value:"FL",children:"FL"}),Object(h.jsx)("option",{value:"GA",children:"GA"}),Object(h.jsx)("option",{value:"HI",children:"HI"}),Object(h.jsx)("option",{value:"IA",children:"IA"}),Object(h.jsx)("option",{value:"ID",children:"ID"}),Object(h.jsx)("option",{value:"IL",children:"IL"}),Object(h.jsx)("option",{value:"IN",children:"IN"}),Object(h.jsx)("option",{value:"KS",children:"KS"}),Object(h.jsx)("option",{value:"KY",children:"KY"}),Object(h.jsx)("option",{value:"LA",children:"LA"}),Object(h.jsx)("option",{value:"MA",children:"MA"}),Object(h.jsx)("option",{value:"MD",children:"MD"}),Object(h.jsx)("option",{value:"ME",children:"ME"}),Object(h.jsx)("option",{value:"MI",children:"MI"}),Object(h.jsx)("option",{value:"MN",children:"MN"}),Object(h.jsx)("option",{value:"MO",children:"MO"}),Object(h.jsx)("option",{value:"MS",children:"MS"}),Object(h.jsx)("option",{value:"MT",children:"MT"}),Object(h.jsx)("option",{value:"NC",children:"NC"}),Object(h.jsx)("option",{value:"NE",children:"NE"}),Object(h.jsx)("option",{value:"NH",children:"NH"}),Object(h.jsx)("option",{value:"NJ",children:"NJ"}),Object(h.jsx)("option",{value:"NM",children:"NM"}),Object(h.jsx)("option",{value:"NV",children:"NV"}),Object(h.jsx)("option",{value:"NY",children:"NY"}),Object(h.jsx)("option",{value:"ND",children:"ND"}),Object(h.jsx)("option",{value:"OH",children:"OH"}),Object(h.jsx)("option",{value:"OK",children:"OK"}),Object(h.jsx)("option",{value:"OR",children:"OR"}),Object(h.jsx)("option",{value:"PA",children:"PA"}),Object(h.jsx)("option",{value:"RI",children:"RI"}),Object(h.jsx)("option",{value:"SC",children:"SC"}),Object(h.jsx)("option",{value:"SD",children:"SD"}),Object(h.jsx)("option",{value:"TN",children:"TN"}),Object(h.jsx)("option",{value:"TX",children:"TX"}),Object(h.jsx)("option",{value:"UT",children:"UT"}),Object(h.jsx)("option",{value:"VT",children:"VT"}),Object(h.jsx)("option",{value:"VA",children:"VA"}),Object(h.jsx)("option",{value:"WA",children:"WA"}),Object(h.jsx)("option",{value:"WI",children:"WI"}),Object(h.jsx)("option",{value:"WV",children:"WV"}),Object(h.jsx)("option",{value:"WY",children:"WY"})]})]})}}]),a}(n.a.Component);var w=function(e){var t=e.isNew?{fulladdress:"",address:"",aptno:"",city:"",state:"",zip:""}:{fulladdress:e.address.fulladdress,address:e.address.address,aptno:e.address.aptno,city:e.address.city,state:e.address.state,zip:e.address.zip},a=e.isNew?null:e.address;function s(e){console.log(e.target.value),t.address=e.target.value}function n(e){console.log(e.target.value),t.aptno=e.target.value}function c(e){console.log(e.target.value),t.city=e.target.value}function r(e){console.log(e.target.value),t.state=e.target.value}function i(e){console.log(e.target.value),t.zip=e.target.value}var l=e.isNew?"addAddressModal":"editAddressModal",j=e.isNew?"Add Address":"Edit Address",u=e.isNew?Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",placeholder:"Enter Street Address",id:"streetAddress",onChange:s}):Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",value:a.address,id:"streetAddress",onChange:s}),b=e.isNew?Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",placeholder:"Enter Apt/Suite No.",id:"aptno",onChange:n}):Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",value:a.aptno,id:"aptno",onChange:n}),m=e.isNew?Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",placeholder:"Enter City",id:"city",onChange:c}):Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",value:a.city,id:"city",onChange:c}),p=e.isNew?Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",placeholder:"Enter Zip Code",id:"zipcode",onChange:i}):Object(h.jsx)("input",{className:"input-box-modal form-control",type:"text",value:a.zip,id:"zipcode",onChange:i}),O=e.isNew?Object(h.jsx)(C,{defaultState:"Select State",handleChange:r}):Object(h.jsx)(C,{defaultState:a.state,handleChange:r});return Object(h.jsx)("div",{className:"modal fade",id:l,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",onMouseEnter:e.onMouseEnter,children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"AddressLabel",children:j}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("form",{onSubmit:function(s){console.log("Started submit"),e.isNew?(console.log("adding"),fetch("/api/add-address",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.currentUser.userid,address:t})}).then(function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))):(console.log("editing"),console.log(a),fetch("/api/edit-address",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.currentUser.userid,old:a,update:t})}).then(function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))),s.preventDefault(),setTimeout((function(){window.location.reload()}),1e3)},children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"streetAddress",className:"form-label",children:"Street Address"}),Object(h.jsx)("br",{}),u]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"aptno",className:"form-label",children:"Apt/Suite No."}),Object(h.jsx)("br",{}),b]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),Object(h.jsx)("br",{}),m]}),O,Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"zipcode",className:"form-label",children:"Zip Code"}),Object(h.jsx)("br",{}),p]}),Object(h.jsx)("div",{className:"flex-box-submit-button",children:Object(h.jsx)("button",{className:"submit-button btn",id:"Address",type:"submit","data-bs-dismiss":"modal",children:"Submit"})})]})})})]})})})},A=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e))._isMounted=!1,s.state={loading:!0,plants:[],price:0,size:0,address_loading:!0,addresses:[],selected_address:null,redirect:null},s}return Object(O.a)(a,[{key:"handleSubmit",value:function(e,t){var a=this;if(this.state.selected_address){var s=this.props.currentUser.username,n=this.state.selected_address.address,c=this.state.selected_address.aptno,r=this.state.selected_address.city,i=this.state.selected_address.state,l=this.state.selected_address.zip,j=document.getElementById("PaymentUsername").value;if(""!=j){for(var u=null,b=null,h=0;h<e.length;h++)if(e[h].checked){u=e[h].value;break}for(h=0;h<t.length;h++)if(t[h].checked){b=t[h].value;break}fetch("/api/place-order",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.props.currentUser.username,phonenumber:this.props.currentUser.phonenumber,userid:this.props.currentUser.userid,plantids:this.state.plants.map((function(e){return e.id})),price:this.state.price,address_name:s,address_st:n,address_aptno:c,address_city:r,address_state:i,address_zip:l,shipping:u,payment:b,payment_username:j})}).then(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e.success&&(alert("Your order has been placed, view it in the orders page"),a.setState({redirect:"/Orders"}))})).catch((function(e){return console.log(e)}))}else alert("Please provide payment username info")}else alert("Please select an address")}},{key:"handleChange",value:function(e){console.log(e.target.value)}},{key:"handleRemove",value:function(e){var t=this;fetch("/api/remove-from-cart",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:this.props.currentUser.userid,plantid:e})}).then(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e.success&&(alert("Plant removed from cart"),t._isMounted&&t.getCartItems())})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.getCartItems(),this._isMounted&&this.getAddresses()}},{key:"componentDidUpdate",value:function(e){e.currentUser&&e.currentUser.userid||this.props.currentUser&&this.props.currentUser.userid&&(this.getCartItems(),this.getAddresses())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"chooseAddress",value:function(e,t){console.log(this.state),console.log(e),this.setState({selected_address:e})}},{key:"getAddresses",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/get-addresses",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:this.props.currentUser.userid})}).then((function(e){return e.json()})).then((function(e){console.log(e),!1!==e.success&&(e.addresses&&0!==e.addresses.length&&t.setState({addresses:e.addresses}),t.setState({address_loading:!1}))})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCartItems",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("fetching cart"),fetch("/api/get-cart",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:this.props.currentUser.userid})}).then((function(e){return e.json()})).then((function(e){t._isMounted&&t.setState({loading:!1,plants:e.plants,price:e.total_price,size:e.size})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCartSection",value:function(){for(var e=this.state.plants,t=this.state.price,a=[],s=0;s<this.state.size;s++)a.push(Object(h.jsx)(v,{plant:e[s],handleRemove:this.handleRemove.bind(this,e[s].id)},s));return Object(h.jsxs)("div",{className:"OrderContents",children:[this.state.size?a:"You have no plants in your cart",Object(h.jsx)("button",{type:"button",className:"AddPurgePlant-button","data-bs-toggle":"modal","data-bs-target":"#addPurgePlantModal",children:"+ Add Purge Plant"}),Object(h.jsxs)("div",{className:"row",id:"OrderTotal",children:[Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsx)("h1",{children:"Total"})}),Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsxs)("h1",{className:"TotalPrice",children:["$",this.state.size?t:0]})})]})]})}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(h.jsx)(u.a,{to:this.state.redirect}):Object(h.jsxs)("div",{id:"CartPage",children:[Object(h.jsx)("h1",{className:"CartPage_Title",children:" Shopping Cart"}),Object(h.jsx)("div",{className:"container",id:"CartPageContainer",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-3",id:"Order",children:[Object(h.jsx)("h1",{className:"YourOrderTitle",children:"Your Order"}),this.state.loading?null:this.getCartSection()]}),Object(h.jsx)("div",{className:"col-md-1"}),Object(h.jsxs)("div",{className:"col-md-8",children:[Object(h.jsxs)("div",{className:"accordion",id:"accordionPanelsStayOpenExample",children:[Object(h.jsxs)("div",{className:"accordion-item",children:[Object(h.jsx)("h2",{className:"accordion-header",id:"panelsStayOpen-headingOne",children:Object(h.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne",children:Object(h.jsx)("h1",{className:"AccordianTitle",children:"Select Delivery Address"})})}),Object(h.jsx)("div",{id:"panelsStayOpen-collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne",children:Object(h.jsxs)("div",{className:"accordion-body",children:[Object(h.jsx)("h2",{className:"AccordianSubtitle",children:"Select or Add an Address:"}),Object(h.jsx)("div",{className:"container addresses-container",children:Object(h.jsxs)("div",{className:"row",children:[this.state.loading?null:this.state.addresses.map((function(t,a){return Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)(f,{id:"address"+a,address:t,onClick:function(){return e.chooseAddress(t,a)},isCart:!0},"Address "+a)})})),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("a",{className:"align-items-center d-flex justify-content-center","data-bs-toggle":"modal","data-bs-target":"#addAddressModal",children:Object(h.jsx)("h5",{className:"card-title",children:"+ Add Address"})})})]})})]})})]}),Object(h.jsxs)("div",{className:"accordion-item",children:[Object(h.jsx)("h2",{className:"accordion-header",id:"panelsStayOpen-headingTwo",children:Object(h.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseTwo",children:Object(h.jsx)("h1",{className:"AccordianTitle",children:"Select Shipping Carrier"})})}),Object(h.jsx)("div",{id:"panelsStayOpen-collapseTwo",className:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingTwo",children:Object(h.jsxs)("div",{className:"accordion-body",children:[Object(h.jsxs)("div",{className:"radio 1",children:[Object(h.jsx)("input",{id:"USPS",name:"radio 1",type:"radio",value:"USPS",defaultChecked:!0}),Object(h.jsx)("label",{htmlFor:"USPS",className:"radio-label",children:" USPS - 3-Day Shipping ($14 for small orders | $15+ for larger orders with multiple items)"})]}),Object(h.jsxs)("div",{className:"radio 1",children:[Object(h.jsx)("input",{id:"Fedex_UPS",name:"radio 1",type:"radio",value:"Fedex/UPS"}),Object(h.jsx)("label",{htmlFor:"Fedex_UPS",className:"radio-label",children:" FedEx / UPS - 2-Day Shipping ($19+ depending on order size)"})]})]})})]}),Object(h.jsxs)("div",{className:"accordion-item",children:[Object(h.jsx)("h2",{className:"accordion-header",id:"panelsStayOpen-headingThree",children:Object(h.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseThree",children:Object(h.jsx)("h1",{className:"AccordianTitle",children:"Select Payment Method"})})}),Object(h.jsx)("div",{id:"panelsStayOpen-collapseThree",className:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingThree",children:Object(h.jsxs)("div",{className:"accordion-body",children:[Object(h.jsx)("h2",{className:"AccordianSubtitle",children:"Select a Payment Method:"}),Object(h.jsxs)("div",{className:"PaymentSelection",children:[Object(h.jsxs)("div",{className:"radio 2",children:[Object(h.jsx)("input",{id:"PayPal",name:"radio 2",type:"radio",value:"PayPal",defaultChecked:!0}),Object(h.jsx)("label",{htmlFor:"PayPal",className:"radio-label",children:" PayPal"})]}),Object(h.jsxs)("div",{className:"radio 2",children:[Object(h.jsx)("input",{id:"Venmo",name:"radio 2",type:"radio",value:"Venmo"}),Object(h.jsx)("label",{htmlFor:"Venmo",className:"radio-label",children:" Venmo"})]}),Object(h.jsxs)("div",{className:"radio 2",children:[Object(h.jsx)("input",{id:"Zelle",name:"radio 2",type:"radio",value:"Zelle"}),Object(h.jsx)("label",{htmlFor:"Zelle",className:"radio-label",children:" Zelle"})]}),Object(h.jsxs)("div",{className:"radio 2",children:[Object(h.jsx)("input",{id:"CashApp",name:"radio 2",type:"radio",value:"CashApp"}),Object(h.jsx)("label",{htmlFor:"CashApp",className:"radio-label",children:" CashApp"})]}),Object(h.jsxs)("div",{className:"radio 2",children:[Object(h.jsx)("input",{id:"Facebook",name:"radio 2",type:"radio",value:"Facebook"}),Object(h.jsx)("label",{htmlFor:"Facebook",className:"radio-label",children:" Facebook Pay"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h2",{className:"AccordianSubtitle",children:"If you are using Venmo or Zelle as a payment method, enter you username for the payment system below. Otherwise, enter in your respective email or mobil number within the text box."}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",id:"PaymentUsername",name:"PayPal_Username",className:"require-if-active","data-require-pair":"#PayPal"})]})})]})]}),this.state.size&&Object(h.jsx)("button",{type:"button",id:"cart-placeOrder",className:"PlaceOrder-button",onClick:this.handleSubmit.bind(this,document.getElementsByName("radio 1"),document.getElementsByName("radio 2")),children:"Place Order"})]})]})}),this.state.loading?null:Object(h.jsx)(w,{isNew:!0,currentUser:this.props.currentUser,isAdmin:this.props.isAdmin}),Object(h.jsx)(S,{id:"addPurgePlantModal",title:"Add Purge Plant",type:"purge",userid:this.props.currentUser.userid})]})}}]),a}(n.a.Component);a(75);var P=function(e){return console.log(e),Object(h.jsx)("div",{className:"modal fade",id:"catalogModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"catalog modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"exampleModalLabel"}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"catalog card",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("img",{className:"catalog-img card-img-top",src:e.plant.img_url,alt:"PPP"})})}),Object(h.jsx)("div",{className:"row",children:"\xa0"}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("h2",{children:e.plant.species_name})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("h2",{children:e.plant.common_name})}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("p",{children:e.plant.description}),Object(h.jsx)("p",{children:"$"+parseFloat(e.plant.price).toFixed(2)})]})]})}),Object(h.jsx)("div",{className:"catalog modal-footer",children:Object(h.jsx)("button",{className:"cart-button",type:"button",id:"CatalogCardSubmit","data-bs-dismiss":"modal",onClick:function(e,t){null!=t?fetch("/api/add-to-cart",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:t,plantid:e})}).then(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log(t.json());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.location.reload(!1)).catch((function(e){return console.log(e)})):alert("Log in to purchase plants")}.bind(null,e.plant.id,e.currentUser.userid),children:"Add to Cart"})})]})})})};var k=function(e){return console.log("MAKING: ",e),Object(h.jsx)("div",{className:"col-md-2",onClick:e.onClick,children:Object(h.jsxs)("div",{className:"catalog-card","data-bs-toggle":"modal","data-bs-target":"#catalogModal",children:[Object(h.jsx)("img",{className:"catalog-img card-img-top",src:e.img_url,alt:"PPP"}),Object(h.jsx)("h2",{className:"catalog-card-title card-title col-md-7 ",children:e.species_name}),Object(h.jsxs)("div",{className:"catalog-price-col card-text col-md-4 ",children:[Object(h.jsx)("div",{className:"row",children:"\xa0"}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("p",{className:"catalog-price col",children:[" ","$"+parseFloat(e.price).toFixed(2)]})})]})]})})},U=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e))._isMounted=!1,s.state={loading:!0,plants:[],currentIndex:0},s}return Object(O.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted"),this._isMounted=!0,this._isMounted&&this.populateCards()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"catalog",children:[Object(h.jsxs)("div",{className:"offset-md-1 col-md-3",children:[Object(h.jsx)("h1",{className:"catalog-header",children:"Catalog"}),Object(h.jsx)("p",{className:"catalog-caption",children:"a collection of our plants"})]}),Object(h.jsx)("section",{className:"searchbar",children:Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("div",{className:"input-group-prepend",children:Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"\ud83d\udd0d"})}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"itemSearch",onKeyUp:function(){e.searchListings()},placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon1"})]})}),this.state.loading?null:this.state.plants.map((function(t,a){return console.log(t,a),Object(h.jsx)(k,{species_name:t.species_name,common_name:t.common_name,price:t.price,description:t.description,img_url:t.img_url,onClick:function(){return e.setState({currentIndex:a})}},"card"+a)})),this.state.loading?null:Object(h.jsx)(P,{plant:this.state.plants[this.state.currentIndex],currentUser:this.props.currentUser})]})}},{key:"populateCards",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/get-available-plants",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){t._isMounted&&t.setState({loading:!1,plants:e})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"searchListings",value:function(){var e,t,a,s;for(e=document.getElementById("itemSearch").value.toUpperCase(),t=document.getElementsByClassName("col-md-2"),console.log(t),s=0;s<t.length;s++)((a=t[s].getElementsByTagName("h2")[0]).textContent||a.innerText).toUpperCase().indexOf(e)>-1?t[s].style.display="":t[s].style.display="none"}}]),a}(n.a.Component),T=(a(76),a.p+"static/media/HexagonPlants.ab6fecdf.PNG"),M=a.p+"static/media/Plant1.ca24983b.PNG",_=a.p+"static/media/Plant2.b66f72c7.PNG",F=a.p+"static/media/ledge.d4f7b738.PNG";function I(e){return Object(h.jsxs)("div",{id:"HomePage",children:[Object(h.jsx)("h1",{id:"Home_Title",children:"Underground Nook"}),Object(h.jsx)(i.b,{to:"/Catalog",children:Object(h.jsx)("button",{type:"button",className:"home-catalog-button",children:"VIEW CATALOG"})}),Object(h.jsx)("img",{className:"img-fluid",id:"Ledge1",src:F,alt:"Ledge 1"}),Object(h.jsx)("img",{className:"img-fluid",id:"Ledge2",src:F,alt:"Ledge 2"}),Object(h.jsx)("img",{className:"img-fluid",id:"HexagonsImage",src:T,alt:"Hexagon Plants"}),Object(h.jsx)("img",{className:"img-fluid",id:"Plant1",src:M,alt:"Plant 1"}),Object(h.jsx)("img",{className:"img-fluid",id:"Plant2",src:_,alt:"Plant 2"})]})}a(77);var D=function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:e.order.id}),Object(h.jsx)("td",{children:e.order.username}),Object(h.jsx)("td",{children:e.order.paystatus}),Object(h.jsx)("td",{children:e.order.orderstatus})]})};var L=function(e){return Object(h.jsxs)("tr",{onClick:e.onClick,children:[Object(h.jsx)("td",{children:Object(h.jsx)("img",{className:"admin-catalog-img card-img-top",src:e.img_url,alt:"PPP"})}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.desc}),Object(h.jsx)("td",{children:"$"+parseFloat(e.price).toFixed(2)})]})};var E=function(e){var t=e.headers.map((function(e,t){return Object(h.jsx)("th",{scope:"col",children:e},t)}));return Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:t})}),Object(h.jsx)("tbody",{children:e.row_comp})]})},V=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={plantsloading:!0,ordersloading:!0,plants:[],orders:[],currentIndex:0},s}return Object(O.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted"),this.populateAdminCatalog()}},{key:"render",value:function(){var e=this,t=this.state.plantsloading?null:this.state.plants.map((function(t,a){return console.log(t,a),Object(h.jsx)(L,{name:t.species_name,price:t.price,desc:t.description,img_url:t.img_url,onClick:function(){return e.setState({currentIndex:a})}},"catrow"+a)})),a=this.state.plantsloading?null:this.state.orders.map((function(t,a){return console.log(t,a),Object(h.jsx)(D,{order:t,onClick:function(){return e.setState({currentIndex:a})}},"catrow"+a)}));return Object(h.jsxs)("div",{id:"AdminDashboardPage",children:[Object(h.jsx)("h1",{className:"AdminDashboardPage_Title",children:"Admin Dashboard"}),Object(h.jsx)("div",{className:"container",id:"AdminDashboardPageContainer",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-5 col-catalog",children:Object(h.jsxs)("div",{className:"edit-catalog-pane",children:[Object(h.jsx)(E,{headers:["Image","Title","Description","Price"],row_comp:t}),Object(h.jsx)("div",{className:"container flex-box-edit-catalog-button",children:Object(h.jsx)(i.b,{className:"Adminlinks",to:"/AdminEditCatalog",children:Object(h.jsx)("button",{className:"btn btn-primary edit-catalog-button",type:"button",children:"Edit Catalog"})})})]})}),Object(h.jsx)("div",{className:"col-md-7",children:Object(h.jsxs)("div",{className:"view-orders-pane",children:[Object(h.jsx)(E,{headers:["Order Id","Name","Payment Status","Order Status"],row_comp:a}),Object(h.jsx)("div",{className:"container flex-box-view-orders-button",children:Object(h.jsxs)(i.b,{className:"Adminlinks",to:"/AdminViewOrders",children:[" ",Object(h.jsx)("button",{className:"btn btn-primary view-orders-button",type:"button",children:"Edit Orders"})]})})]})})]})})]})}},{key:"populateAdminCatalog",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/get-plants",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){t.setState({plantsloading:!1,plants:e})})),fetch("/api/get-orders",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){t.setState({ordersloading:!1,orders:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.a.Component);a(78);var R=function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("th",{scope:"row",children:[" ",e.order.address," "]}),Object(h.jsx)("th",{className:"align-middle",children:Object(h.jsx)(i.b,{to:"/OrderPage?id="+e.order.id,children:e.order.id})}),Object(h.jsx)("th",{className:"align-middle",children:e.order.paystatus}),Object(h.jsx)("th",{className:"align-middle",children:e.order.orderstatus}),Object(h.jsx)("th",{className:"align-middle",children:"$"+e.order.price})]})},J=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={loading:!0,orders:[],currentIndex:0},s}return Object(O.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted"),window.addEventListener("load",this.populateUserOrders())}},{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"container-fluid justify-content-center",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"offset-md-1 col-md-3",id:"OrderHeader",children:Object(h.jsx)("h1",{className:"orders-header",children:"Orders"})}),Object(h.jsxs)("table",{className:"orders table table-bg",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Address"}),Object(h.jsx)("th",{scope:"col",children:"Order ID"}),Object(h.jsx)("th",{scope:"col",children:"Payment Status"}),Object(h.jsx)("th",{scope:"col",children:"Order Status"}),Object(h.jsx)("th",{scope:"col",children:"Price"})]})}),Object(h.jsx)("tbody",{className:"table-body",children:this.state.loading?null:this.state.orders.map((function(t,a){return console.log(e.state.orders),console.log(t,a),Object(h.jsx)(R,{order:t,onClick:function(){return e.setState({currentIndex:a})}},"order"+a)}))})]})]})})}},{key:"populateUserOrders",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props),t=this.props.currentUser.userid,fetch("/api/get-user-orders",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:t})}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({loading:!1,orders:e})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.a.Component);a(79);var z=function(e){return Object(h.jsx)("div",{className:"card h-100",style:{width:"18rem"},onClick:e.onClick,children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("p",{className:"card-text",children:[e.address.aptno," ",e.address.address]}),Object(h.jsxs)("p",{className:"card-text",children:[e.address.city,", ",e.address.state," ",e.address.zip]}),Object(h.jsxs)("div",{className:"edit-address-block",children:[Object(h.jsxs)("div",{className:"container address-card",children:[Object(h.jsx)("i",{className:"ri-delete-bin-line"}),Object(h.jsx)("a",{href:"#",className:"card-link",children:"Remove"})]}),Object(h.jsxs)("div",{className:"container address-card",children:[Object(h.jsx)("i",{className:"ri-pencil-line"}),Object(h.jsx)("a",{className:"card-link","data-bs-toggle":"modal","data-bs-target":"#editAddressModal",href:"",children:"Edit Address"})]}),!e.isDefault&&Object(h.jsxs)("div",{className:"container edit-card",children:[Object(h.jsx)("i",{className:"ri-arrow-go-back-line"}),Object(h.jsx)("a",{href:"#",className:"card-link",children:"Set as Default"})]})]})]})})};var B=function(e){var t=e.currentUser.username?e.currentUser.username.split(" "):"",a=e.parent+"_fname-label",s=e.parent+"_lname-label",n=e.parent+"_email-label",c=e.parent+"_number-label",r="form-label heading"+("Settings"===e.parent?"2":"");return Object(h.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"fname",id:a,className:r,children:"First Name"}),Object(h.jsx)("input",{className:"input-box",type:"text",defaultValue:t[0],id:"fname"})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"lname",id:s,className:r,children:"Last Name"}),Object(h.jsx)("input",{className:"input-box",type:"text",defaultValue:t[1],id:"lname"})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"email",id:n,className:r,children:"Email"}),Object(h.jsx)("input",{className:"input-box",type:"email",defaultValue:e.currentUser.email,id:"email"})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"phonenumber",id:c,className:r,children:"Phone Number"}),Object(h.jsx)("input",{className:"input-box",type:"text",defaultValue:e.currentUser.phonenumber||"000",id:"phonenumber"})]}),Object(h.jsx)("div",{className:"row flex-box-save-button",id:"edit-information-div-btn",children:Object(h.jsx)("button",{className:"btn save-button",id:"edit-information-save-btn",type:"button",children:"Save"})})]})},W=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e))._isMounted=!1,s.state={loading:!0,addresses:[],currentIndex:0},s}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,console.log(this.state.addresses),this._isMounted&&this.populateAddresses()}},{key:"componentDidUpdate",value:function(e){e.currentUser&&e.currentUser.userid||this.props.currentUser&&this.props.currentUser.userid&&this.populateAddresses()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"settings",children:[Object(h.jsx)("div",{className:"container basic-user-info-container",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md",children:Object(h.jsx)("img",{className:"profile-picture",src:"https://graph.facebook.com/"+this.props.currentUser.userid+"/picture?type=large",alt:"Minying Cao Profile",width:"300px"})}),Object(h.jsx)("div",{className:"col-md",children:this.state.loading?null:Object(h.jsx)(B,{currentUser:this.props.currentUser,parent:"Settings",onSubmit:"save-settings"})})]})}),Object(h.jsxs)("div",{className:"container addresses-container",children:[Object(h.jsx)("h1",{className:"heading1",children:"Addresses"}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("div",{className:"card h-100",style:{width:"18rem"},"data-bs-toggle":"modal","data-bs-target":"#addAddressModal",children:Object(h.jsx)("div",{className:"card-body align-items-center d-flex justify-content-center",children:Object(h.jsx)("h5",{className:"card-title",children:"+ Add Address"})})})}),this.state.loading?null:(console.log(this.state.addresses),this.state.addresses.map((function(t,a){return console.log(e.state.addresses),console.log(t,a),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)(z,{address:t,onClick:function(){e.setState({currentIndex:a}),console.log(e.state.currentIndex)}},"address "+a)})})))]})]}),this.state.loading?null:Object(h.jsx)(w,{isNew:!0,currentUser:this.props.currentUser,isAdmin:this.props.isAdmin}),this.state.loading||0===this.state.addresses.length?null:Object(h.jsx)(w,{isNew:!1,address:this.state.addresses[this.state.currentIndex],currentUser:this.props.currentUser,isAdmin:this.props.isAdmin})]})}},{key:"populateAddresses",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/get-addresses",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:this.props.currentUser.userid})}).then((function(e){return e.json()})).then((function(e){!1!==e.success&&(console.log(e),e.addresses&&0!==e.addresses.length&&t.setState({addresses:e.addresses}),t.setState({loading:!1}))}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.a.Component);a(80);var H=function(e){var t=e.currentUser.username.split(" "),a="",s="";return Object(h.jsxs)("div",{id:"NewUser",children:[Object(h.jsxs)("div",{id:"Welcome_Message",children:[Object(h.jsx)("h1",{id:"User_Page_Title",children:"Welcome to the Underground Nook"}),Object(h.jsx)("p",{id:"User_Page_Description",children:"Hello new user! Before you continue on, please provide some additional information about yourself in order to enhance your experience."})]}),Object(h.jsxs)("form",{id:"Settings_Info",onSubmit:"create_user-settings",children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"firstname",id:"NewUser-label",className:"form-label heading",children:"First Name"}),Object(h.jsx)("input",{className:"input-box",type:"text",defaultValue:t[0],id:"firstname",onChange:function(a){console.log(a.target.value),t[0]=a.target.value,e.currentUser.username=t[0]+" "+t[1]}})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"lastname",id:"NewUser-label",className:"form-label heading",children:"Last Name"}),Object(h.jsx)("input",{className:"input-box",type:"text",defaultValue:t[1],id:"lastname",onChange:function(a){console.log(a.target.value),t[1]=a.target.value,e.currentUser.username=t[0]+" "+t[1]}})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"email",id:"NewUser-label-email",className:"form-label heading",children:"Email"}),Object(h.jsx)("input",{className:"input-box",type:"email",defaultValue:a,id:"email",onChange:function(t){console.log(t.target.value),a=t.target.value,e.currentUser.email=a}})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("label",{htmlFor:"phonenumber",id:"NewUser-label",className:"form-label heading",children:"Phone Number"}),Object(h.jsx)("input",{className:"input-box",type:"text",placeholder:"Ex. 1234567890",id:"phonenumber",onChange:function(t){console.log(t.target.value),s=t.target.value,e.currentUser.phonenumber=s}})]}),Object(h.jsx)("div",{className:"row flex-box-save-button",id:"NewUserButton",children:Object(h.jsx)("button",{className:"btn_save-button",type:"button",onClick:function(){e.onSubmit(e.currentUser)},children:Object(h.jsx)("h1",{id:"NewUser_ButtonText",children:"Submit"})})})]})]})};a(81);var K=function(e){var t=e.plant.id,a=e.plant.species_name,s=e.plant.common_name,n=e.plant.description,c=e.plant.price,r="";function i(e){return l.apply(this,arguments)}function l(){return(l=Object(d.a)(o.a.mark((function e(i){var l,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=parseFloat(c),""!=r?((j=new FormData).append("file",r),j.append("upload_preset","uur2huja"),y.a.post("https://api.cloudinary.com/v1_1/undergroundnook/image/upload",j).then((function(e){console.log(e.data.url),l=e.data.url,fetch("/api/update-plant",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,sname:a,cname:s,desc:n,price:d,img:l})})}))):fetch("/api/update-plant",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,sname:a,cname:s,desc:n,price:d})}),window.location.reload(!1),i.preventDefault();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"modal fade",id:"editPlantModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"EditPlantModalLabel",children:"Edit Plant"}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsx)("h1",{children:e.plant.species_name}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("form",{onSubmit:i,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"form-label",children:"Scientific Name"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e),console.log(e.target.value),a=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:e.plant.species_name,id:"name"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"form-label",children:"Common Name"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e),console.log(e.target.value),s=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:e.plant.common_name,id:"name"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"descriptionOfPlant",className:"form-label",children:"Description"}),Object(h.jsx)("br",{}),Object(h.jsx)("textarea",{onChange:function(e){console.log(e),console.log(e.target.value),n=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:e.plant.description,id:"descriptionOfPlant"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e),console.log(e.target.value),c=e.target.value},className:"input-box-modal form-control",type:"text",placeholder:e.plant.price,id:"price"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"fileUpload",className:"form-label",children:"Upload Screenshot"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"file",onChange:function(e){console.log(e),console.log(e.target.files[0]),r=e.target.files[0]},className:"input-box-modal form-control",id:"fileUpload",name:"file",accept:"image/*"})]})]}),Object(h.jsx)("div",{className:"flex-box-submit-button",children:Object(h.jsx)("button",{onClick:i,className:"cart-button",id:"edit-plant-modal-button",type:"submit","data-bs-dismiss":"modal",children:"Save"})})]})]})]})})})};var Y=function(e){var t=e.id;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"img-col",children:Object(h.jsx)("img",{className:"admin-catalog-img card-img-top",src:e.img_url,alt:"Nanouk"})}),Object(h.jsx)("td",{className:"title-col",children:e.name}),Object(h.jsx)("td",{className:"description-col",children:e.desc}),Object(h.jsx)("td",{className:"price-col",children:"$"+parseFloat(e.price).toFixed(2)}),Object(h.jsxs)("td",{className:"edit-col",children:[Object(h.jsxs)("div",{className:"edit-container",children:[Object(h.jsx)("i",{className:"ri-pencil-line"}),Object(h.jsx)("a",{href:"#",onClick:e.onClick,className:"card-link","data-bs-toggle":"modal","data-bs-target":"#editPlantModal",children:"Edit"})]}),Object(h.jsxs)("div",{className:"edit-container",children:[Object(h.jsx)("i",{className:"ri-delete-bin-line"}),Object(h.jsx)("a",{href:"#",onClick:function(e){alert(t+"DELETED"),fetch("/api/delete-plant",{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}),window.location.reload(!1)},className:"card-link",children:"Remove"})]})]})]})},G=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).table_header=["","Name","Description","Price",""],s.state={loading:!0,plants:[],currentIndex:0},s}return Object(O.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted"),this.populateAdminCatalog()}},{key:"getTableRows",value:function(e,t){var a=this;return Object(h.jsx)(Y,{id:e.id,name:e.species_name,price:e.price,desc:e.description,img_url:e.img_url,onClick:function(){return a.setState({currentIndex:t})}},"catrow"+t)}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"AdminEditCatalog",children:[Object(h.jsx)("h1",{className:"AdminEditCatalog_Title",children:"Edit Catalog"}),Object(h.jsx)("div",{className:"container",id:"AdminEditCatalogContainer",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("a",{href:"#",className:"add-plant-button","data-bs-toggle":"modal","data-bs-target":"#addPlantModal",children:"+ Add Plant"}),Object(h.jsx)("div",{className:"col-md col-catalog",children:Object(h.jsx)("div",{className:"edit-catalog-pane",children:Object(h.jsx)(E,{headers:this.table_header,row_comp:this.state.loading?null:this.state.plants.map((function(t,a){return e.getTableRows(t,a)}))})})}),this.state.loading?null:Object(h.jsx)(K,{plant:this.state.plants[this.state.currentIndex]})]})}),Object(h.jsx)(S,{id:"addPlantModal",title:"Add Plant to Catalog",type:"catalog"})]})}},{key:"populateAdminCatalog",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/get-plants",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){t.setState({loading:!1,plants:e})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.a.Component);a(82);var Z=function(e){console.log(e.order);var t=e.order.id,a=e.order.paystatus,s=e.order.paymentmethod,n=e.order.paymentinfo,c=e.order.address,r=e.order.aptno,i=e.order.city,l=e.orderstate,j=e.order.zip,u=e.order.shippingcarrier,b=e.order.orderstatus,m=e.order.price;function p(){return(p=Object(d.a)(o.a.mark((function e(d){var h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h=parseFloat(m),fetch("/api/update-order",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,paystatus:a,paymentmethod:s,paymentinfo:n,address:c,aptno:r,city:i,state:l,zip:j,shippingcarrier:u,orderstatus:b,price:h})}),window.location.reload(!1),d.preventDefault();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"modal fade",id:"editOrderModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"EditOrderModalLabel",children:"Edit Order"}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h2",{children:t}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"address1",className:"form-label",children:"Address"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),c=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:c,id:"address1"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"aptno",className:"form-label",children:"Apt/Suite No."}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),r=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:r,id:"aptno"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),i=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:i,id:"city"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),Object(h.jsx)("br",{}),Object(h.jsxs)("select",{onChange:function(e){console.log(e.target.value),l=e.target.value},className:"input-box-modal form-select",id:"state",name:"state",defaultValue:l,children:[Object(h.jsx)("option",{value:"AL",children:"AL"}),Object(h.jsx)("option",{value:"AK",children:"AK"}),Object(h.jsx)("option",{value:"AR",children:"AR"}),Object(h.jsx)("option",{value:"AZ",children:"AZ"}),Object(h.jsx)("option",{value:"CA",children:"CA"}),Object(h.jsx)("option",{value:"CO",children:"CO"}),Object(h.jsx)("option",{value:"CT",children:"CT"}),Object(h.jsx)("option",{value:"DC",children:"DC"}),Object(h.jsx)("option",{value:"DE",children:"DE"}),Object(h.jsx)("option",{value:"FL",children:"FL"}),Object(h.jsx)("option",{value:"GA",children:"GA"}),Object(h.jsx)("option",{value:"HI",children:"HI"}),Object(h.jsx)("option",{value:"IA",children:"IA"}),Object(h.jsx)("option",{value:"ID",children:"ID"}),Object(h.jsx)("option",{value:"IL",children:"IL"}),Object(h.jsx)("option",{value:"IN",children:"IN"}),Object(h.jsx)("option",{value:"KS",children:"KS"}),Object(h.jsx)("option",{value:"KY",children:"KY"}),Object(h.jsx)("option",{value:"LA",children:"LA"}),Object(h.jsx)("option",{value:"MA",children:"MA"}),Object(h.jsx)("option",{value:"MD",children:"MD"}),Object(h.jsx)("option",{value:"ME",children:"ME"}),Object(h.jsx)("option",{value:"MI",children:"MI"}),Object(h.jsx)("option",{value:"MN",children:"MN"}),Object(h.jsx)("option",{value:"MO",children:"MO"}),Object(h.jsx)("option",{value:"MS",children:"MS"}),Object(h.jsx)("option",{value:"MT",children:"MT"}),Object(h.jsx)("option",{value:"NC",children:"NC"}),Object(h.jsx)("option",{value:"NE",children:"NE"}),Object(h.jsx)("option",{value:"NH",children:"NH"}),Object(h.jsx)("option",{value:"NJ",children:"NJ"}),Object(h.jsx)("option",{value:"NM",children:"NM"}),Object(h.jsx)("option",{value:"NV",children:"NV"}),Object(h.jsx)("option",{value:"NY",children:"NY"}),Object(h.jsx)("option",{value:"ND",children:"ND"}),Object(h.jsx)("option",{value:"OH",children:"OH"}),Object(h.jsx)("option",{value:"OK",children:"OK"}),Object(h.jsx)("option",{value:"OR",children:"OR"}),Object(h.jsx)("option",{value:"PA",children:"PA"}),Object(h.jsx)("option",{value:"RI",children:"RI"}),Object(h.jsx)("option",{value:"SC",children:"SC"}),Object(h.jsx)("option",{value:"SD",children:"SD"}),Object(h.jsx)("option",{value:"TN",children:"TN"}),Object(h.jsx)("option",{value:"TX",children:"TX"}),Object(h.jsx)("option",{value:"UT",children:"UT"}),Object(h.jsx)("option",{value:"VT",children:"VT"}),Object(h.jsx)("option",{value:"VA",children:"VA"}),Object(h.jsx)("option",{value:"WA",children:"WA"}),Object(h.jsx)("option",{value:"WI",children:"WI"}),Object(h.jsx)("option",{value:"WV",children:"WV"}),Object(h.jsx)("option",{value:"WY",children:"WY"})]})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"zip",className:"form-label",children:"Zip"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),j=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:j,id:"zip"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"form-label",children:"Shipping Carrier"}),Object(h.jsxs)("select",{onChange:function(e){console.log(e.target.value),u=e.target.value},className:"input-box-modal form-control",id:"state",name:"state",defaultValue:"Select Shipping Carrier",children:[Object(h.jsx)("option",{value:"Select Shipping Carrier",disabled:!0,children:"Select Shipping Carrier"}),Object(h.jsx)("option",{value:"USPS",children:"USPS"}),Object(h.jsx)("option",{value:"FedEx",children:"FedEx"}),Object(h.jsx)("option",{value:"UPS",children:"UPS"})]})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"paymentMethod",className:"form-label",children:"Payment Method"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),s=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:s,id:"paymentMethod"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"paymentInfo",className:"form-label",children:"Payment Info (username)"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),n=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:n,id:"paymentInfo"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"paymentStatus",className:"form-label",children:"Payment Status"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),a=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:a,id:"paymentStatus"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"orderStatus",className:"form-label",children:"Order Status"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),b=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:b,id:"orderStatus"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),m=e.target.value},className:"input-box-modal form-control",type:"text",defaultValue:m,id:"paymentStatus"})]})]}),Object(h.jsx)("div",{className:"flex-box-submit-button",children:Object(h.jsx)("button",{onClick:function(e){return p.apply(this,arguments)},className:"cart-button",id:"EditOrderButton",type:"submit","data-bs-dismiss":"modal",children:"Save"})})]})})]})})})};var $=function(e){return Object(h.jsxs)("tr",{id:"row-10028492",className:"displayed-row",children:[Object(h.jsx)("th",{scope:"row",children:Object(h.jsx)(i.b,{to:"/OrderPage?id="+e.order.id,children:e.order.id})}),Object(h.jsx)("td",{children:e.order.username}),Object(h.jsx)("td",{children:e.order.address}),Object(h.jsx)("td",{children:e.order.aptno}),Object(h.jsx)("td",{children:e.order.city}),Object(h.jsx)("td",{children:e.order.state}),Object(h.jsx)("td",{children:e.order.zip}),Object(h.jsx)("td",{children:e.order.shippingcarrier}),Object(h.jsx)("td",{children:e.order.orderstatus}),Object(h.jsx)("td",{children:e.order.price}),Object(h.jsxs)("td",{className:"edit-col",children:[Object(h.jsxs)("div",{className:"edit-container",children:[Object(h.jsx)("i",{className:"ri-pencil-line"}),Object(h.jsx)("a",{href:"#",className:"card-link","data-bs-toggle":"modal","data-bs-target":"#editOrderModal",children:"Edit"})]}),Object(h.jsxs)("div",{className:"edit-container",children:[Object(h.jsx)("i",{className:"ri-delete-bin-line"}),Object(h.jsx)("a",{className:"card-link",onClick:e.handleDeleteClicked,children:"Remove"})]})]})]})};var X=function(e){var t="all";return Object(h.jsx)("div",{className:"modal fade",id:"exportDataModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"ExportDataLabel",children:"Export Data"}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("form",{children:Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"form-label",children:"Shipping Carrier"}),Object(h.jsxs)("select",{onChange:function(e){console.log(e.target.value),t=e.target.value},className:"input-box-modal form-control",id:"state",name:"state",defaultValue:"Select Shipping Carrier",children:[Object(h.jsx)("option",{value:"Select Shipping Carrier",disabled:!0,children:"Select Shipping Carrier"}),Object(h.jsx)("option",{value:"USPS",children:"USPS"}),Object(h.jsx)("option",{value:"FedEx",children:"FedEx"}),Object(h.jsx)("option",{value:"UPS",children:"UPS"})]})]})}),Object(h.jsx)("div",{className:"flex-box-submit-button",children:Object(h.jsx)("button",{onClick:function(e){fetch("/api/get-csv",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({shippingcarrier:t})}).then((function(e){return e.text()})).then((function(e){console.log(e);var t=new Blob([e],{type:"text/plain"}),a=document.createElement("a");a.download="test.csv",a.innerHTML="Download File",null!=window.webkitURL?a.href=window.webkitURL.createObjectURL(t):(a.href=window.URL.createObjectURL(t),a.style.display="none",document.body.appendChild(a)),a.click()}))},className:"cart-button",id:"CSV-button",type:"submit","data-bs-dismiss":"modal",children:"Export as CSV"})})]})})]})})})},q=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={loading:!0,orders:[],currentIndex:0},s}return Object(O.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted"),this.populateAdminOrders()}},{key:"handleDeleteClicked",value:function(e,t){var a=this;fetch("/api/delete-order",{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({plants:e,id:t})}).then(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e.success&&(alert("Order removed"),a.populateAdminOrders())})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.loading?null:this.state.orders.map((function(t,a){return console.log(t,a),Object(h.jsx)($,{order:t,onClick:function(){return e.setState({currentIndex:a})},handleDeleteClicked:e.handleDeleteClicked.bind(e,t.plants,t.id)},"catrow"+a)}));return Object(h.jsxs)("div",{id:"AdminViewOrders",children:[Object(h.jsx)("h1",{className:"AdminViewOrders_Title",children:"View Orders"}),Object(h.jsx)("div",{className:"container",id:"AdminViewOrdersContainer",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("a",{href:"#",className:"add-plant-button","data-bs-toggle":"modal","data-bs-target":"#exportDataModal",children:"Export Shipping Data"}),Object(h.jsx)("div",{className:"col-md col-catalog",children:Object(h.jsxs)("div",{className:"edit-catalog-pane",children:[Object(h.jsx)(E,{headers:["Order ID","Recepient Name","Address","Apt/Suit No.","City","State","Zip","Shipping Carrier","Order Status","Total",""],row_comp:t}),";"]})})]})}),this.state.loading||0==this.state.orders?null:Object(h.jsx)(Z,{order:this.state.orders[this.state.currentIndex]}),Object(h.jsx)(X,{})]})}},{key:"populateAdminOrders",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/get-orders",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){t.setState({loading:!1,orders:e})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.a.Component);a(83);var Q=function(e){return Object(h.jsxs)("tr",{className:"OrderPageRow",children:[Object(h.jsx)("th",{scope:"row",children:e.plant.id}),Object(h.jsx)("td",{children:Object(h.jsx)("img",{src:e.plant.img_url,alt:"Plant 2"})}),Object(h.jsx)("td",{children:e.plant.species_name}),Object(h.jsxs)("td",{children:["$",parseFloat(e.plant.price).toFixed(2)]})]})},ee=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={loading:!0,order:"",currentIndex:0,plants:[]},s}return Object(O.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted"),window.addEventListener("load",this.populateUserOrders())}},{key:"render",value:function(){return Object(h.jsx)("div",{id:"AdminViewOrders",children:this.state.loading?null:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"AdminViewOrders_Title",children:"Order id: "+this.state.order.id}),Object(h.jsxs)("div",{className:"container",id:"AdminViewOrdersContainer",children:[Object(h.jsxs)("p",{className:"p-tag",children:["Purchaser Name: ",Object(h.jsx)("a",{href:"#",children:this.state.order.username})]}),Object(h.jsxs)("p",{className:"p-tag",children:["Purchaser Phone #: ",Object(h.jsx)("a",{href:"#",children:this.state.order.phonenumber})]}),Object(h.jsxs)("p",{className:"p-tag",children:["Status: ",this.state.order.orderstatus]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md col-catalog",children:Object(h.jsx)("div",{className:"edit-catalog-pane",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Plant ID"}),Object(h.jsx)("th",{scope:"col",children:"Image"}),Object(h.jsx)("th",{scope:"col",children:"Name"}),Object(h.jsx)("th",{scope:"col",children:"Price"})]})}),Object(h.jsx)("tbody",{children:this.state.plants.map((function(e,t){return console.log(e,t),Object(h.jsx)(Q,{plant:e},"plant"+t)}))})]})})})}),Object(h.jsx)("h2",{className:"total-price",children:"Total: $"+parseFloat(this.state.order.price).toFixed(2)})]})]})})}},{key:"populateUserOrders",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,s,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.location.search,a=new URLSearchParams(t),s=a.get("id"),fetch("/api/get-order",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderid:s})}).then((function(e){return e.json()})).then((function(e){console.log(e.plants),n.setState({order:e}),fetch("/api/get-order-plants",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({plants:e.plants})}).then((function(e){return e.json()})).then((function(e){n.setState({loading:!1,plants:e})}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.a.Component),te=a.p+"static/media/Logo.52f7158b.png";function ae(e){var t=["1839081979786582","1238211160013297"],a=Object(s.useState)("Pre-Login"),n=Object(j.a)(a,2),c=n[0],r=n[1],l=Object(s.useState)(null),b=Object(j.a)(l,2),p=b[0],O=b[1],x=Object(s.useState)({}),g=Object(j.a)(x,2),v=g[0],f=g[1],N=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.includes(e)?(r("Admin"),console.log("Admin user is logged in"),a&&(console.log("Redirecting to admin page..."),O("/Admin"))):(r("Post-Login"),console.log("General user is logged in"),a&&(console.log("Redirecting to catalog..."),O("/Catalog")))};window.fbAsyncInit=function(){FB.getLoginStatus((function(e){"connected"===e.status?(fetch("/api/get-user",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.authResponse.userID})}).then((function(e){return e.json()})).then((function(e){f(e)})).catch((function(e){console.log(e)})),N(e.authResponse.userID)):(r("Pre-Login"),console.log("User not logged in"))}))};var y="";return y=p?Object(h.jsx)(u.a,{to:p}):"",Object(h.jsxs)(i.a,{children:["No-Login"!==c&&Object(h.jsx)("div",{id:c+"_NavBar",className:c+"_NavBar",children:Object(h.jsxs)("nav",{className:"navbar navbar-expand-lg ",children:[Object(h.jsx)("img",{className:"img-fluid",id:"Logo",alt:"Logo",src:te}),Object(h.jsx)("div",{id:"WebsiteTitle",children:Object(h.jsx)(i.b,{to:"/",children:"Underground Nook"})}),Object(h.jsx)("div",{className:"containerLinks"}),"Admin"===c&&Object(h.jsx)("i",{className:"fa ri-admin-line fa-lg","aria-hidden":"true"}),"Admin"===c&&Object(h.jsx)("div",{className:"Links",children:Object(h.jsx)(i.b,{to:"/Admin",children:"Admin Page"})}),Object(h.jsx)("i",{className:"fa fa-info-circle fa-lg","aria-hidden":"true"}),Object(h.jsx)("div",{className:"Links",children:Object(h.jsx)(i.b,{to:"/About",children:"About Us"})}),Object(h.jsx)("i",{className:"fa fa-pagelines fa-lg","aria-hidden":"true"}),Object(h.jsx)("div",{className:"Links",children:Object(h.jsx)(i.b,{to:"/Catalog",children:"Catalog"})}),"Pre-Login"===c&&Object(h.jsxs)("button",{className:"btn ",id:"NavbarButton",onClick:function(){try{FB.login((function(e){console.log("login_event"),"connected"===e.status?FB.api("/me",{fields:"name, email, picture"},(function(e){console.log(e),fetch("/api/get-user",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.id,username:e.name,email:e.email})}).then(function(){var a=Object(d.a)(o.a.mark((function a(s){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.json();case 2:n=a.sent,console.log(n),n.userid||t.includes(e.id)?(f(n),N(e.id,!0)):(console.log("Redirecting to registration..."),r("No-Login"),O("/NewUser"));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))})):console.log("Log in cancelled")}))}catch(e){console.log(e),console.log("Login unsuccesful")}},children:[Object(h.jsx)("i",{className:"ri-facebook-circle-fill ri-lg"})," Log In with Facebook"]}),("Admin"===c||"Post-Login"===c)&&Object(h.jsx)("i",{className:"fa fa-shopping-cart fa-lg","aria-hidden":"true"}),("Admin"===c||"Post-Login"===c)&&Object(h.jsx)("div",{className:"Links",children:Object(h.jsx)(i.b,{to:"/Cart",children:"Cart"})}),("Admin"===c||"Post-Login"===c)&&Object(h.jsxs)("div",{className:"dropdown",children:[Object(h.jsxs)("button",{className:"dropbtn btn",children:[" ",Object(h.jsxs)("p",{id:"userid",children:[" ",v.userid]})," ",Object(h.jsx)("p",{children:v.username&&v.username.split(" ")[0]})]}),Object(h.jsx)("i",{className:"fa fa-caret-down"}),Object(h.jsxs)("div",{className:"dropdown-content",children:[Object(h.jsx)("div",{id:"DropDown",children:Object(h.jsx)(i.b,{to:"/Settings",children:"Settings"})}),Object(h.jsx)("div",{id:"DropDown",children:Object(h.jsx)(i.b,{to:"/Orders",children:"Orders"})}),Object(h.jsx)("div",{id:"DropDown",children:Object(h.jsx)("button",{id:"LogoutBtn",onClick:function(){try{FB.logout((function(e){console.log("logout_event"),"unknown"===e.status?(console.log("Redirecting to homepage..."),r("Pre-Login"),f({}),O("/")):console.log("Log out didn't work")}))}catch(e){console.log(e),console.log("Logout unsuccesful")}},children:"Log Out"})})]})]})]})}),y,Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:"/",children:Object(h.jsx)(I,{currentUser:v,isAdmin:t.includes(v.userid)})}),Object(h.jsx)(u.b,{path:"/NewUser",children:Object(h.jsx)(H,{currentUser:v,onSubmit:function(e){return function(e){fetch("/api/add-user",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.userid,username:e.username,email:e.email,phonenumber:e.phonenumber})}).then(function(){var t=Object(d.a)(o.a.mark((function t(a){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:s=t.sent,console.log(s),N(e.id,!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}(e)}})}),"Admin"===c&&Object(h.jsx)(u.b,{path:"/Admin",children:Object(h.jsx)(V,{currentUser:v.userid})}),"Admin"===c&&Object(h.jsx)(u.b,{path:"/AdminViewOrders",children:Object(h.jsx)(q,{currentUser:v,isAdmin:t.includes(v.userid)})}),"Admin"===c&&Object(h.jsx)(u.b,{path:"/AdminEditCatalog",children:Object(h.jsx)(G,{currentUser:v,isAdmin:t.includes(v.userid)})}),Object(h.jsx)(u.b,{path:"/OrderPage",children:Object(h.jsx)(ee,{})}),Object(h.jsx)(u.b,{path:"/About",children:Object(h.jsx)(m,{currentUser:v,isAdmin:t.includes(v.userid)})}),Object(h.jsx)(u.b,{path:"/Catalog",children:Object(h.jsx)(U,{currentUser:v,isAdmin:t.includes(v.userid)})}),("Admin"===c||"Post-Login"===c)&&Object(h.jsx)(u.b,{path:"/Cart",children:Object(h.jsx)(A,{currentUser:v,isAdmin:t.includes(v.userid)})}),("Admin"===c||"Post-Login"===c)&&Object(h.jsx)(u.b,{path:"/Settings",children:Object(h.jsx)(W,{currentUser:v,isAdmin:t.includes(v.userid)})}),("Admin"===c||"Post-Login"===c)&&Object(h.jsx)(u.b,{path:"/Orders",children:Object(h.jsx)(J,{currentUser:v,isAdmin:t.includes(v.userid)})})]})]})}r.a.render(Object(h.jsx)(ae,{}),document.getElementById("root"));var se=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(i.a,{children:Object(h.jsx)(ae,{})})})},ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,86)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};a(84);r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(se,{})}),document.getElementById("root")),ne()}},[[85,1,2]]]);
//# sourceMappingURL=main.9e9965a6.chunk.js.map